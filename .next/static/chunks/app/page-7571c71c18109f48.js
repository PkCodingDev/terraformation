(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4255:function(e,t,r){Promise.resolve().then(r.bind(r,2880))},2880:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(3827),a=r(4090);function i(e){let{stage:t}=e;return(0,a.useEffect)(()=>{let e=document.createElement("style");e.textContent="\n      @keyframes bounce {\n        0%, 100% {\n          transform: translateY(0);\n        }\n        50% {\n          transform: translateY(-20px);\n        }\n      }\n    ","undefined"!=typeof document&&document.head.appendChild(e)},[]),(0,n.jsx)("div",{style:{fontSize:"clamp(80px, 20vw, 140px)",margin:"clamp(16px, 2vh, 32px) 0",animation:"bounce 2s ease-in-out infinite",transform:"scale(".concat((()=>{switch(t){case"seed":return .8;case"sprout":return .95;case"sapling":return 1.05;case"tree":return 1.2}})(),")"),transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)",filter:"tree"===t?"drop-shadow(0 0 15px rgba(106, 194, 74, 0.5))":"none",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"clamp(100px, 25vh, 180px)",maxWidth:"90vw"},children:{seed:"\uD83C\uDF30",sprout:"\uD83C\uDF31",sapling:"\uD83C\uDF3F",tree:"\uD83C\uDF33"}[t]})}function o(e){let{progress:t}=e;return(0,n.jsxs)("div",{style:{width:"clamp(250px, 80vw, 320px)",margin:"clamp(10px, 2vh, 20px) auto",padding:"clamp(8px, 1.5vw, 12px)",background:"#5fbf3c",border:"4px solid #2e7d32",borderRadius:"0",boxShadow:"4px 4px 0 rgba(0, 0, 0, 0.3), inset 0 4px 0 rgba(255, 255, 255, 0.2)"},children:[(0,n.jsx)("div",{style:{height:"clamp(18px, 3vh, 24px)",background:"#c8e6c9",border:"2px solid #2e7d32",overflow:"hidden",position:"relative"},children:(0,n.jsx)("div",{style:{height:"100%",width:"".concat(100*t,"%"),background:"linear-gradient(to bottom, #7ee081, #4caf50)",transition:"width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)",boxShadow:"inset 1px 1px 0 rgba(255, 255, 255, 0.4)"}})}),(0,n.jsxs)("div",{style:{fontSize:"clamp(0.5rem, 1.5vw, 0.7rem)",marginTop:"8px",color:"#1f3b1f",fontWeight:"bold",textShadow:"1px 1px 0 rgba(255, 255, 255, 0.6)"},children:[Math.round(100*t),"%"]})]})}let l=(0,a.forwardRef)((e,t)=>{let{}=e,r=(0,a.useRef)(null),i=(0,a.useRef)(null),[o,l]=(0,a.useState)(!1),s=(0,a.useRef)(null);(0,a.useEffect)(()=>((async()=>{try{if(!r.current){r.current=new(window.AudioContext||window.webkitAudioContext);let e=r.current.createGain();e.connect(r.current.destination),e.gain.value=.15,i.current=e}c()}catch(e){console.log("Audio context not available")}})(),()=>{s.current&&clearInterval(s.current)}),[]);let c=()=>{s.current&&clearInterval(s.current);let e=()=>{if(!r.current||!i.current)return;let e=r.current,t=e.currentTime,n=[[220,261.63,329.63],[174.61,261.63,329.63],[130.81,196,261.63],[196,246.94,329.63]],a=t;for(let t=0;t<2;t++)n.forEach((t,r)=>{t.forEach((t,r)=>{let n=e.createOscillator(),o=e.createGain();n.frequency.value=t,n.type=0===r?"sine":"triangle",n.frequency.setTargetAtTime(t,a,.1),o.gain.setValueAtTime(0,a),o.gain.linearRampToValueAtTime(.03-.005*r,a+.3),o.gain.linearRampToValueAtTime(.02-.004*r,a+6-.5),o.gain.linearRampToValueAtTime(0,a+6),n.connect(o),o.connect(i.current),n.start(a),n.stop(a+6)}),a+=6})};e(),s.current=setInterval(e,48e3)};return(0,a.useImperativeHandle)(t,()=>({playTreeCompleteSound:()=>{if(!r.current)return;let e=r.current,t=e.currentTime;[392,440,494].forEach((r,n)=>{let a=e.createOscillator(),i=e.createGain();a.frequency.value=r,a.type="sine";let o=t+.1*n;i.gain.setValueAtTime(.12,o),i.gain.exponentialRampToValueAtTime(.01,o+.4),a.connect(i),i.connect(e.destination),a.start(o),a.stop(o+.4)})}})),(0,n.jsx)("div",{style:{position:"fixed",bottom:20,right:20,zIndex:100},children:(0,n.jsx)("button",{onClick:()=>{i.current&&(i.current.gain.value=o?.15:0,l(!o))},style:{padding:"8px 12px",fontSize:"0.7rem",background:o?"#999":"#7cb342",border:"2px solid "+(o?"#666":"#558b2f"),color:"#fff",cursor:"pointer",borderRadius:"0",boxShadow:"2px 2px 0 #000",fontFamily:"Press Start 2P",transition:"all 0.2s"},children:o?"\uD83D\uDD07 Muted":"\uD83C\uDFB5 Music"})})});function s(){let[e,t]=(0,a.useState)(0),[r,s]=(0,a.useState)(0),[c,p]=(0,a.useState)("seed"),u=(0,a.useRef)(0),d=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=async()=>{let e=await fetch("/api/earnings"),r=await e.json();if(r.trees>u.current){var n;(null===(n=d.current)||void 0===n?void 0:n.playTreeCompleteSound)&&d.current.playTreeCompleteSound()}u.current=r.trees,t(r.trees),s(r.progress)};e();let r=setInterval(e,1e4);return()=>clearInterval(r)},[]),(0,a.useEffect)(()=>{r<.25?p("seed"):r<.5?p("sprout"):r<.75?p("sapling"):p("tree")},[r]),(0,n.jsxs)("main",{style:{padding:"clamp(20px, 5vw, 40px)",textAlign:"center",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:"100vw",overflow:"hidden"},children:[(0,n.jsx)("h1",{style:{fontSize:"clamp(1.5rem, 5vw, 2.5rem)",margin:"0 0 10px 0"},children:"\uD83C\uDF0D Terraformation"}),(0,n.jsx)("div",{style:{marginBottom:"clamp(10px, 2vh, 20px)",marginTop:"clamp(10px, 2vh, 20px)",fontSize:"clamp(0.65rem, 2vw, 0.9rem)",opacity:.8},children:(0,n.jsxs)("p",{children:[e," Trees Planted"]})}),(0,n.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100px"},children:(0,n.jsx)(i,{stage:c})}),(0,n.jsx)(o,{progress:r}),(0,n.jsx)("div",{style:{marginTop:"clamp(15px, 2vh, 20px)",marginBottom:"clamp(15px, 1.5vh, 20px)",fontSize:"clamp(0.55rem, 1.5vw, 0.7rem)",opacity:.7},children:(0,n.jsx)("p",{style:{margin:0,wordBreak:"break-all"},children:"Contract: BBSAW49Sru7jiSajWVKTSWs39psrjjHbMMtWGWTJBAGS"})}),(0,n.jsxs)("div",{style:{marginBottom:"clamp(60px, 12vh, 100px)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"clamp(15px, 2vh, 20px)"},children:[(0,n.jsx)("a",{href:"https://x.com/TF_Global",target:"_blank",rel:"noopener noreferrer",style:{padding:"clamp(12px, 3vw, 17px) clamp(24px, 4.8vw, 34px)",fontSize:"clamp(0.8rem, 2.4vw, 1.14rem)",background:"rgba(255, 255, 255, 0.1)",border:"3px solid #1f3b1f",color:"#1f3b1f",cursor:"pointer",borderRadius:"0",boxShadow:"3px 3px 0 #1f3b1f",fontFamily:"Press Start 2P",textDecoration:"none",display:"inline-block",transition:"all 0.2s",fontWeight:"bold"},onMouseEnter:e=>{e.target.style.transform="translate(3px, 3px)",e.target.style.boxShadow="0px 0px 0 #1f3b1f",e.target.style.background="rgba(124, 179, 66, 0.2)"},onMouseLeave:e=>{e.target.style.transform="translate(0, 0)",e.target.style.boxShadow="3px 3px 0 #1f3b1f",e.target.style.background="rgba(255, 255, 255, 0.1)"},children:"Terra"}),(0,n.jsx)("a",{href:"https://x.com/0xHimmel_",target:"_blank",rel:"noopener noreferrer",style:{fontSize:"clamp(0.5rem, 1.2vw, 0.65rem)",color:"#1f3b1f",textDecoration:"none",borderBottom:"1px solid #7cb342",opacity:.7,transition:"opacity 0.2s",fontFamily:"Press Start 2P"},onMouseEnter:e=>{e.target.style.opacity="1"},onMouseLeave:e=>{e.target.style.opacity="0.7"},children:"Made by OxHimmel"})]}),(0,n.jsx)(l,{ref:d})]})}l.displayName="AudioManager"}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4255)}),_N_E=e.O()}]);